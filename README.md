# API para relato no Fiscaliza da Anatel


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

``` python
import os
import random
from random import randint
from pprint import pprint
from dotenv import load_dotenv
from fiscaliza.main import Fiscaliza
from fiscaliza.constants import MUNICIPIOS, SERVICOS
load_dotenv(override=True)
```

    True

## Autenticação e Conexão com o servidor do Redmine

A classe
[`Fiscaliza`](https://InovaFiscaliza.github.io/fiscaliza/main.html#fiscaliza)
é somente para efetuar a conexão e autenticação com o servidor do
Redmine.

``` python
issue_id = "124174"
fiscaliza = Fiscaliza(os.environ["USERNAME"], os.environ["PASSWORD"], teste=True)
issue = fiscaliza.get_issue(issue_id)
```

## Conexão com dada inspeção

O método `get_issue` instancia e retorna um objeto do tipo
[`Issue`](https://InovaFiscaliza.github.io/fiscaliza/main.html#issue),
este que encapsula a funcionalidade principal de resgate de informações,
validação e formatação de informações e atualização de inspeção. O mesmo
objeto pode ser instanciado diretamente passando o `client` do objeto
[`Fiscaliza`](https://InovaFiscaliza.github.io/fiscaliza/main.html#fiscaliza)
após autenticado e o `id` da inspeção.

    issue = Issue(fiscaliza.client, issue_id)

## Informações da Inspeção

Todas as informações principais da Inspeção estão disponíveis através do
atributo `attrs`

``` python
issue.attrs
```

    {'ACAO': {'type': 'acao_de_inspecao',
      'status': 'Em andamento',
      'name': 'ACAO_GR08_2024_0014',
      'description': '[PMEC 2024 Etapa 2] Monitorar canais e faixas de frequências relacionados às aplicações críticas (como, por exemplo, radionavegação e radiocomunicação aeronáutica e canais de emergência) na forma a ser estabelecida no Plano de Ação de Fiscalização.\r\n'},
     'ALLOWED_STATUSES': 'None',
     'ANEXOS': ['https://sistemasnethm/fiscaliza/attachments/download/9161/Info.json',
      'https://sistemasnethm/fiscaliza/attachments/download/9164/Info.json'],
     'ANO_DE_EXECUCAO': '2024',
     'APP_FISCALIZA': '0',
     'ASSIGNED_TO': 'Ronaldo da Silva Alves Batista',
     'ATUALIZACAO': 'Atualizado por Ronaldo da Silva Alves Batista em 21/06/2024 às 04:06:27',
     'AUTHOR': 'Eric Magalhães Delgado',
     'CHANGESETS': 'None',
     'CHILDREN': 'None',
     'CLASSE_DA_INSPECAO': 'Técnica',
     'CLOSED_ON': 'None',
     'COORDENADAS_GEOGRAFICAS': "{'latitude': '-5', 'longitude': '-54'}",
     'CREATED_ON': '2024-04-18T12:37:43Z',
     'DATA_DE_INICIO_EFETIVO': '2024-05-22',
     'DONE_RATIO': '0',
     'ESTIMATED_HOURS': 'None',
     'FABRICANTE_E_MODELO': '',
     'FREQUENCIA_MHZ': '',
     'HA_OUTRAS_FONTES_INTERFER': '0',
     'HOMOLOGADA': '',
     'ID': '124174',
     'INTERFERENCIA_SANADA': '',
     'IS_PRIVATE': 'False',
     'LOCAL_INTERF_CONFERE_INDICADO': '',
     'MEMBROS': ['Gilmar Ferreira do Nascimento',
      'Luis Fernando Camelier de Queiroz',
      'Michel Kulhavy Cerqueira',
      'Iulo de Araújo Lima Lobo',
      'Carlos Fernando Muniz Santos',
      'Isabel Cristina Cruz Soares e Souza',
      'Alessandro Vasconcelos Fernandes',
      'Anecy Oliveira de Freitas',
      'Wilton Machado de Oliveira',
      'Ilva Perla Monteiro Ferreira',
      'Lin Yu Wan',
      'Alexnaldo Cerqueira da Silva',
      'Jorgean Ferreira Leal',
      'José Mauricio Leite Araújo',
      'Arildo Oliva Franca Filho',
      'Leonardo Lago Araújo',
      'Brasilio Rios Leite',
      'Fiscal UD',
      'José Ivan Gomes',
      'Jaqueline Cesario da Silva',
      'Eric Magalhães Delgado',
      'Ronaldo da Silva Alves Batista'],
     'NO_SEI_DO_AVISO_LAI': "{'numero': '0206683', 'link_acesso': 'https://seihm.anatel.gov.br/sei/controlador.php?acao=procedimento_trabalhar&id_procedimento=1982134&id_documento=1982751'}",
     'NO_SEI_PROCESSO_FISCALIZACAO': "{'numero': '53554.000005/2024-18', 'link_acesso': 'https://seihm.anatel.gov.br/sei/controlador.php?acao=procedimento_trabalhar&id_procedimento=1982134'}",
     'NO_SEI_RELATORIO_DE_ATIVIDADES': "{'numero': '0206885', 'link_acesso': 'https://seihm.anatel.gov.br/sei/controlador.php?acao=procedimento_trabalhar&id_procedimento=1982134&id_documento=1982998'}",
     'POTENCIA_DE_OPERACAO_W': '',
     'PRIORITY': 'Normal',
     'PROJECT': 'GR08',
     'SPENT_HOURS': '0.0',
     'SUBJECT': 'INSP_GR08_2024_0139',
     'SUBTEMA': 'Radiomonitoração Terrestre',
     'TEMA': 'Uso do Espectro',
     'TIME_ENTRIES': 'None',
     'TIPO_DE_FONTE_INTERFERENTE': '',
     'TOTAL_ESTIMATED_HOURS': 'None',
     'TOTAL_SPENT_HOURS': '0.0',
     'TRACKER': 'Atividade de Inspeção',
     'UPDATED_ON': '2024-06-21T07:06:26Z',
     'WATCHERS': 'None',
     'agrupamento': '10',
     'area_do_pacp': '3-E-commerce',
     'cnpjcpf_da_entidade': '27865757000102',
     'coordenacao_responsavel': 'FI3',
     'dadospacp': 'None',
     'description': '[PMEC 2024 Etapa 2] Monitorar canais e faixas de frequências relacionados às aplicações críticas (como, por exemplo, radionavegação e radiocomunicação aeronáutica e canais de emergência) na forma a ser estabelecida no Plano de Ação de Fiscalização.\r\n',
     'documento_instaurador_do_pado': '',
     'due_date': '2024-11-30',
     'endereco_da_inspecao': 'Rua Machado de Assis, 27 - Morro Grande, Rio de Janeiro - RJ',
     'entidade_com_cadastro_stel': 'Não',
     'fiscais': [''],
     'fiscal_responsavel': '',
     'horas_de_conclusao': '2',
     'horas_de_deslocamento': '1',
     'horas_de_execucao': '14',
     'horas_de_preparacao': '5',
     'houve_obice': '0',
     'identificada_a_origem': '0',
     'irregularidade': [],
     'latitude_coordenadas': '',
     'longitude_coordenadas': '',
     'motivo_de_lai': 'Clandestinidade',
     'no_do_lacre': '0008749',
     'no_pcdp': '13',
     'no_sav': '12',
     'no_sei_do_plaiguarda': '',
     'nome_da_entidade': 'Globo S/A',
     'numero_da_estacao': '1493671',
     'numero_do_pai': '123456',
     'observacao_tecnica_amostral': 'Simulação com o HTZ',
     'precisa_reservar_instrumentos': '0',
     'procedimentos': ['Lacração', 'Apreensão'],
     'qnt_produt_lacradosapreend': '0',
     'servicos_da_inspecao': '302 - RESTRITO - RADIOAMADOR',
     'situacao_constatada': 'Irregular',
     'start_date': '2024-03-01',
     'status': 'Relatando',
     'tipo_de_inspecao': 'Certificação',
     'total_de_horas': '22.0',
     'ufmunicipio': ['MG/Santana de Cataguases',
      'MG/Pouso Alegre',
      'MG/Janaúba',
      'PI/Parnaíba',
      'SE/Itabaianinha'],
     'utilizou_algum_instrumento': '0',
     'utilizou_tecnicas_amostrais': 'Não usou técnicas amostrais'}

O atributo acima retorna um dicionário com as informações da Inspeção.
As chaves em letra MAIÚSCULA são dados somente informativos e não podem
ser editados diretamente pela API, alguns deles são retornados pelo
Redmine mas não possuem uso na Instância do Fiscaliza na Anatel. Um
exemplo desses é o atributo `CHILDREN`, sempre vazio.

## Dados editáveis

Os dados que são editáveis, tanto pela API quanto pela interface web
aparecem em `minúsculo` no dicionário. Para estes dados temos um outro
método mais informativo:

``` python
issue.editable_fields
```

    {'status': (value: Relatando),
     'description': (value: [PMEC 2024 Etapa 2] Monitorar canais e faixas de frequências relacionados às aplicações críticas (como, por exemplo, radionavegação e radiocomunicação aeronáutica e canais de emergência) na forma a ser estabelecida no Plano de Ação de Fiscalização.
     ) | <mandatory>,
     'start_date': (value: 2024-03-01) | <mandatory>,
     'due_date': (value: 2024-11-30) | <mandatory>,
     'tipo_de_inspecao': (value: Certificação) | <mandatory>, <options>, ⚠️conditional,
     'fiscal_responsavel': (value: ) | <mandatory>, <options>,
     'fiscais': (value: ['']) | <mandatory>, <multiple>, <options>,
     'ufmunicipio': (value: ['MG/Santana de Cataguases', 'MG/Pouso Alegre', 'MG/Janaúba', 'PI/Parnaíba', 'SE/Itabaianinha']) | <mandatory>, <multiple>, <options>,
     'servicos_da_inspecao': (value: 302 - RESTRITO - RADIOAMADOR) | <mandatory>, <multiple>, <options>,
     'situacao_constatada': (value: Irregular) | <mandatory>, <options>,
     'procedimentos': (value: ['Lacração', 'Apreensão']) | <mandatory>, <multiple>, <options>, ⚠️conditional,
     'irregularidade': (value: []), <multiple>, <options>,
     'horas_de_preparacao': (value: 5) | <mandatory>,
     'horas_de_deslocamento': (value: 1) | <mandatory>,
     'horas_de_execucao': (value: 14) | <mandatory>,
     'horas_de_conclusao': (value: 2) | <mandatory>,
     'no_sav': (value: 12),
     'no_pcdp': (value: 13),
     'documento_instaurador_do_pado': (value: ),
     'houve_obice': (value: 0) | <mandatory>, <options>,
     'numero_da_estacao': (value: 1493671) | <mandatory>,
     'nome_da_entidade': (value: Globo S/A) | <mandatory>,
     'cnpjcpf_da_entidade': (value: 27865757000102),
     'endereco_da_inspecao': (value: Rua Machado de Assis, 27 - Morro Grande, Rio de Janeiro - RJ) | <mandatory>,
     'qnt_produt_lacradosapreend': (value: 0) | <mandatory>,
     'identificada_a_origem': (value: 0) | <mandatory>, <options>, ⚠️conditional,
     'motivo_de_lai': (value: Clandestinidade) | <mandatory>, <multiple>, <options>,
     'no_do_lacre': (value: 0008749) | <mandatory>,
     'latitude_coordenadas': (value: ) | <mandatory>,
     'longitude_coordenadas': (value: ) | <mandatory>,
     'coordenacao_responsavel': (value: FI3), <options>,
     'entidade_com_cadastro_stel': (value: Não) | <mandatory>, <options>,
     'numero_do_pai': (value: 123456),
     'agrupamento': (value: 10),
     'dadospacp': (value: None),
     'area_do_pacp': (value: 3-E-commerce), <options>,
     'no_sei_do_plaiguarda': (),
     'precisa_reservar_instrumentos': (value: 0) | <mandatory>, <options>, ⚠️conditional,
     'utilizou_algum_instrumento': (value: 0) | <mandatory>, <options>, ⚠️conditional,
     'utilizou_tecnicas_amostrais': (value: Não usou técnicas amostrais) | <mandatory>, <options>,
     'observacao_tecnica_amostral': (value: Simulação com o HTZ) | <mandatory>,
     'total_de_horas': (value: 22.0)}

Nesse caso as chaves são os nomes dos campos e os valores são os objetos
que modelam o campo. Ao mostrar ou imprimir o dicionário, como mostrado
acima, é impresso o valor atual do campo entre parênteses.

    'tipo_de_inspecao': (value: Uso do Espectro - Não Outorgado) | <mandatory>, <options>, ⚠️conditional

Separado pela barra vertical são mostrados alguns atributos do campo:

- `<mandatory>` indica que o campo é obrigatório;
- `<multiple>` indica que o campo aceita mais de um valor. Deve ser
  fornecido uma lista
- `<options>` indica que o campo aceita valores pré-definidos;
- `⚠️conditional` indica que o campo é condicional e para dado valor
  preenchido neste campo, ficam disponíveis outros campos, estes podem
  ser obrigatórios e inclusive condicionais

O valor em si do campo é guardado no atributo `value`, acessado através
da notação de ponto

``` python
issue.editable_fields['tipo_de_inspecao'].value
```

    'Certificação'

Os dois métodos a seguir filtram, dentre os campos editáveis, os campos
obrigatório e condicionais:

``` python
issue.mandatory_fields()
```

    {'description': (value: [PMEC 2024 Etapa 2] Monitorar canais e faixas de frequências relacionados às aplicações críticas (como, por exemplo, radionavegação e radiocomunicação aeronáutica e canais de emergência) na forma a ser estabelecida no Plano de Ação de Fiscalização.
     ) | <mandatory>,
     'start_date': (value: 2024-03-01) | <mandatory>,
     'due_date': (value: 2024-11-30) | <mandatory>,
     'tipo_de_inspecao': (value: Certificação) | <mandatory>, <options>, ⚠️conditional,
     'fiscal_responsavel': (value: ) | <mandatory>, <options>,
     'fiscais': (value: ['']) | <mandatory>, <multiple>, <options>,
     'ufmunicipio': (value: ['MG/Santana de Cataguases', 'MG/Pouso Alegre', 'MG/Janaúba', 'PI/Parnaíba', 'SE/Itabaianinha']) | <mandatory>, <multiple>, <options>,
     'servicos_da_inspecao': (value: 302 - RESTRITO - RADIOAMADOR) | <mandatory>, <multiple>, <options>,
     'situacao_constatada': (value: Irregular) | <mandatory>, <options>,
     'procedimentos': (value: ['Lacração', 'Apreensão']) | <mandatory>, <multiple>, <options>, ⚠️conditional,
     'horas_de_preparacao': (value: 5) | <mandatory>,
     'horas_de_deslocamento': (value: 1) | <mandatory>,
     'horas_de_execucao': (value: 14) | <mandatory>,
     'horas_de_conclusao': (value: 2) | <mandatory>,
     'houve_obice': (value: 0) | <mandatory>, <options>,
     'numero_da_estacao': (value: 1493671) | <mandatory>,
     'nome_da_entidade': (value: Globo S/A) | <mandatory>,
     'endereco_da_inspecao': (value: Rua Machado de Assis, 27 - Morro Grande, Rio de Janeiro - RJ) | <mandatory>,
     'qnt_produt_lacradosapreend': (value: 0) | <mandatory>,
     'identificada_a_origem': (value: 0) | <mandatory>, <options>, ⚠️conditional,
     'motivo_de_lai': (value: Clandestinidade) | <mandatory>, <multiple>, <options>,
     'no_do_lacre': (value: 0008749) | <mandatory>,
     'latitude_coordenadas': (value: ) | <mandatory>,
     'longitude_coordenadas': (value: ) | <mandatory>,
     'entidade_com_cadastro_stel': (value: Não) | <mandatory>, <options>,
     'precisa_reservar_instrumentos': (value: 0) | <mandatory>, <options>, ⚠️conditional,
     'utilizou_algum_instrumento': (value: 0) | <mandatory>, <options>, ⚠️conditional,
     'utilizou_tecnicas_amostrais': (value: Não usou técnicas amostrais) | <mandatory>, <options>,
     'observacao_tecnica_amostral': (value: Simulação com o HTZ) | <mandatory>}

``` python
issue.conditional_fields()
```

    {'tipo_de_inspecao': (value: Certificação) | <mandatory>, <options>, ⚠️conditional,
     'procedimentos': (value: ['Lacração', 'Apreensão']) | <mandatory>, <multiple>, <options>, ⚠️conditional,
     'identificada_a_origem': (value: 0) | <mandatory>, <options>, ⚠️conditional,
     'precisa_reservar_instrumentos': (value: 0) | <mandatory>, <options>, ⚠️conditional,
     'utilizou_algum_instrumento': (value: 0) | <mandatory>, <options>, ⚠️conditional}

O conjunto de valores para os campos com opções pré-definidas estão
relacionados no atributo `.options`

``` python
issue.editable_fields['tipo_de_inspecao'].options
```

    ['Bloqueio Administrativo',
     'Certificação',
     'Medição de CEMRF (RNI)',
     'Outorga - Aspectos não Técnicos',
     'Outorga - Aspectos Técnicos',
     'Uso do Espectro - Interferência',
     'Uso do Espectro - Monitoração',
     'Uso do Espectro - Não Outorgado']

``` python
issue.editable_fields['procedimentos'].options
```

    ['Nenhum',
     'Lacração',
     'Apreensão',
     'Interrupção',
     'Não Cadastrado',
     'Notificado',
     'A Notificar',
     'Liberação/Desinterrupção',
     'Orientação ao Usuário',
     'Comunicado',
     'Deslacrado',
     'Vistoriado',
     'Emissão Termo Violação de Lacre',
     'Apoio a busca e apreensão',
     'Investigação/Pesquisa',
     'Não Lacrado - Impedimento',
     'Não Lacrado - Amparo Judicial',
     'Não Lacrado - Responsável Ausente',
     'Não Lacrado - Local Fechado',
     'Constatação Violação Lacre/Relacrado',
     'Constatação Violação Lacre/Impedimento',
     'Notícia Crime',
     'Monitorado alterado',
     'Constatação Encerramento - Informe',
     'Levantamento de Dados',
     'Análise/coleta de Dados',
     'Monitorado',
     'Não Lacrado - Desativado',
     'Devolução de Produto(s)',
     'Outros']

## Atualizando informações da Inspeção

Dada a existência de campos condicionais, para obtermos todos os campos
editáveis para dado tipo de inspeção, é preciso fornecer um dicionário
de dados para que os campos sejam atualizados de acordo com os valores
fornecidos para os campos condicionais.

``` python
dados = {
    "tipo_de_inspecao": "Certificação",
    "precisa_reservar_instrumentos": "0",
    "utilizou_algum_instrumento": "0",
    "procedimentos": "Lacração",
}
```

A atualização dos campos é feita passando o dicionário para o método
`update_fields`.

``` python
issue.update_fields(dados)
```

Depois de atualizado os campos com o método acima, checamos novamente o
atributo `editable_fields`

``` python
issue.editable_fields
```

    {'status': (value: Relatando),
     'description': (value: [PMEC 2024 Etapa 2] Monitorar canais e faixas de frequências relacionados às aplicações críticas (como, por exemplo, radionavegação e radiocomunicação aeronáutica e canais de emergência) na forma a ser estabelecida no Plano de Ação de Fiscalização.
     ) | <mandatory>,
     'start_date': (value: 2024-03-01) | <mandatory>,
     'due_date': (value: 2024-11-30) | <mandatory>,
     'tipo_de_inspecao': (value: Certificação) | <mandatory>, <options>, ⚠️conditional,
     'fiscal_responsavel': (value: ) | <mandatory>, <options>,
     'fiscais': (value: ['']) | <mandatory>, <multiple>, <options>,
     'ufmunicipio': (value: ['MG/Santana de Cataguases', 'MG/Pouso Alegre', 'MG/Janaúba', 'PI/Parnaíba', 'SE/Itabaianinha']) | <mandatory>, <multiple>, <options>,
     'procedimentos': (value: ['Lacração', 'Apreensão']) | <mandatory>, <multiple>, <options>, ⚠️conditional,
     'horas_de_preparacao': (value: 5) | <mandatory>,
     'horas_de_deslocamento': (value: 1) | <mandatory>,
     'horas_de_execucao': (value: 14) | <mandatory>,
     'horas_de_conclusao': (value: 2) | <mandatory>,
     'no_sav': (value: 12),
     'no_pcdp': (value: 13),
     'numero_da_estacao': (value: 1493671) | <mandatory>,
     'endereco_da_inspecao': (value: Rua Machado de Assis, 27 - Morro Grande, Rio de Janeiro - RJ) | <mandatory>,
     'identificada_a_origem': (value: 0) | <mandatory>, <options>, ⚠️conditional,
     'no_do_lacre': (value: 0008749) | <mandatory>,
     'coordenacao_responsavel': (value: FI3), <options>,
     'numero_do_pai': (value: 123456),
     'agrupamento': (value: 10),
     'dadospacp': (value: None),
     'area_do_pacp': (value: 3-E-commerce), <options>,
     'precisa_reservar_instrumentos': (value: 0) | <mandatory>, <options>, ⚠️conditional,
     'total_de_horas': (value: 22.0),
     'cnpjcpf_da_entidade': (value: 27865757000102),
     'documento_instaurador_do_pado': (value: ),
     'entidade_com_cadastro_stel': (value: Não) | <mandatory>, <options>,
     'houve_obice': (value: 0) | <mandatory>, <options>,
     'irregularidade': (value: []), <multiple>, <options>,
     'latitude_coordenadas': (value: ) | <mandatory>,
     'longitude_coordenadas': (value: ) | <mandatory>,
     'observacao_tecnica_amostral': (value: Simulação com o HTZ) | <mandatory>,
     'qnt_produt_lacradosapreend': (value: 0) | <mandatory>,
     'situacao_constatada': (value: Irregular) | <mandatory>, <options>,
     'utilizou_tecnicas_amostrais': (value: Não usou técnicas amostrais) | <mandatory>, <options>,
     'motivo_de_lai': (value: Clandestinidade) | <mandatory>, <multiple>, <options>,
     'no_sei_do_aviso_lai':  | <mandatory>,
     'lai_vinculadas': ,
     'no_sei_do_plaiguarda': (),
     'gerar_plai': GerarPlai(id=426, name='Gerar PLAI', mandatory=False)}

Caso o conjunto de dados já seja conhecido para dado tipo de inspeção,
basta passar o dicionário diretamente para o método `update`.
Internamente os métodos mostrados anteriormente de atualização dos
campos são chamados.

## Exemplo completo

O dicionário a seguir contém valores misturados de diversos tipos de
inspeção distintos, além de valores aleatorizados. A API simplesmente
filtra os valores que se aplicam para o tipo de inspeção solicitada e o
valor do dado fornecido para os campos condicionais. As demais chaves
que não se aplicam são ignoradas.

<details class="code-fold">
<summary>Code</summary>

``` python
dados = {
    "endereco_da_inspecao": "Rua Machado de Assis, 27 - Morro Grande, Rio de Janeiro - RJ",
    "campo_eletrico__pico_vm": randint(50, 100),
    "campo_eletrico_rms_vm": randint(20, 100),
    "coordenacao_responsavel": "FI3",
    "cnpjcpf_da_entidade": "27865757000102",
    "entidade_com_cadastro_stel": "Não",
    "entidade_outorgada": randint(0, 1),
    "esta_em_operacao": randint(0, 1),
    "numero_da_estacao": "1493671",
    "fiscais": ["Eric Magalhães Delgado"],
    "fiscal_responsavel": "Ronaldo da Silva Alves Batista",
    "foi_constatada_interferencia": randint(0, 1),
    "frequencia_inicial": randint(70, 110),
    "frequencia_final": randint(110, 117),
    "gerar_relatorio": "0",
    "html_path": r"C:\Users\rsilva\code\fiscaliza\tests\Report_2024.02.18_T11.30.55_123456.html",
    "uploads": [
        {
            "path": r"C:\Users\rsilva\code\fiscaliza\tests\Report_2024.02.18_T11.30.55_123456.json",
            "filename": "Info.json",
        }
    ],
    "identificada_a_origem": str(randint(0, 1)),
    "unidade_da_frequencia_final": "MHz",
    "unidade_da_frequencia_inicial": "MHz",
    "horas_de_conclusao": randint(1, 8),
    "horas_de_deslocamento": randint(1, 8),
    "horas_de_execucao": randint(8, 40),
    "horas_de_preparacao": randint(1, 8),
    "houve_obice": random.randint(0, 1),
    "houve_interferencia": "Sim",
    "latitude_coordenadas": -randint(0, 33),
    "longitude_coordenadas": -randint(34, 73),
    "latitude_da_estacao": -randint(0, 33),
    "longitude_da_estacao": -randint(34, 73),
    "nome_da_entidade": "Globo S/A",
    "numero_do_pai": "123456",
    "observacao_tecnica_amostral": "Simulação com o HTZ",
    "pai_instaurado_pela_anatel": "Sim",
    "precisa_reservar_instrumentos": "0",  #
    "procedimentos": ["Lacração", "Apreensão"],  #
    "qnt_produt_lacradosapreend": "0",
    "reserva_de_instrumentos": "0",
    "no_do_lacre": "50",
    "motivo_de_lai": "Clandestinidade",
    "no_sei_do_aviso_lai": "0206683",
    "sanada_ou_mitigada": random.choice(["0", "1"]),
    "servicos_da_inspecao": random.choices(list(SERVICOS.values()), k=5),
    "situacao_constatada": "Irregular",
    "situacao_de_risco_a_vida": "Sim",
    "tipo_de_inspecao": "Certificação",  #
    "ufmunicipio": random.choices(MUNICIPIOS, k=5),
    "uso_de_produto_homologado": random.choice(["0", "1"]),
    "utilizou_algum_instrumento": "0",
    "utilizou_apoio_policial": "Polícia Militar",
    "utilizou_tecnicas_amostrais": "Não usou técnicas amostrais",
    "description": "[PMEC 2024 Etapa 2] Monitorar canais e faixas de frequências relacionados às aplicações críticas (como, por exemplo, radionavegação e radiocomunicação aeronáutica e canais de emergência) na forma a ser estabelecida no Plano de Ação de Fiscalização.\r\n",
    "start_date": "2024-03-01",
    "due_date": "2024-11-30",
}
```

</details>

``` python
issue.update(dados)
```

    Atualizado para o status Relatando

## Gerar Relatório de Atividades

Para as inspeções de `Certificação` e `Uso do Espectro - Monitoração` é
possível gerar o relatório de atividades no SEI por meio do Fiscaliza,
para tal basta fornecer o valor:

    dados['gerar_relatório'] = '1'

``` python
dados['gerar_relatorio'] = '1'
issue.update(dados)
```

    Atualizado para o status Relatando

``` python
issue.attrs
```

    ServerError: Redmine returned internal error, check Redmine logs for details

> Para substituir o relatório de atividades, basta refazer a chamada
> fornecendo o valor `1` para a chave `gerar_relatorio`.

``` python
dados["gerar_relatorio"] = "1"
issue.update(dados)
```

    Atualizado para o status Relatando

``` python
issue.attrs
```

    {'ACAO': {'type': 'acao_de_inspecao',
      'status': 'Em andamento',
      'name': 'ACAO_GR08_2024_0014',
      'description': '[PMEC 2024 Etapa 2] Monitorar canais e faixas de frequências relacionados às aplicações críticas (como, por exemplo, radionavegação e radiocomunicação aeronáutica e canais de emergência) na forma a ser estabelecida no Plano de Ação de Fiscalização.\r\n'},
     'ALLOWED_STATUSES': 'None',
     'ANEXOS': ['https://sistemasnethm/fiscaliza/attachments/download/9165/Info.json',
      'https://sistemasnethm/fiscaliza/attachments/download/9167/Info.json',
      'https://sistemasnethm/fiscaliza/attachments/download/9171/Info.json'],
     'ANO_DE_EXECUCAO': '2024',
     'APP_FISCALIZA': '0',
     'ASSIGNED_TO': 'Ronaldo da Silva Alves Batista',
     'ATUALIZACAO': 'Atualizado por Ronaldo da Silva Alves Batista em 02/07/2024 às 04:19:51',
     'AUTHOR': 'Eric Magalhães Delgado',
     'CHANGESETS': 'None',
     'CHILDREN': 'None',
     'CLASSE_DA_INSPECAO': 'Técnica',
     'CLOSED_ON': 'None',
     'COORDENADAS_GEOGRAFICAS': "{'latitude': '-30', 'longitude': '-63'}",
     'CREATED_ON': '2024-04-18T12:37:47Z',
     'DATA_DE_INICIO_EFETIVO': '2024-05-24',
     'DONE_RATIO': '0',
     'ESTIMATED_HOURS': 'None',
     'ID': '124175',
     'IS_PRIVATE': 'False',
     'MEMBROS': ['Gilmar Ferreira do Nascimento',
      'Luis Fernando Camelier de Queiroz',
      'Michel Kulhavy Cerqueira',
      'Iulo de Araújo Lima Lobo',
      'Carlos Fernando Muniz Santos',
      'Isabel Cristina Cruz Soares e Souza',
      'Alessandro Vasconcelos Fernandes',
      'Anecy Oliveira de Freitas',
      'Wilton Machado de Oliveira',
      'Ilva Perla Monteiro Ferreira',
      'Lin Yu Wan',
      'Alexnaldo Cerqueira da Silva',
      'Jorgean Ferreira Leal',
      'José Mauricio Leite Araújo',
      'Arildo Oliva Franca Filho',
      'Leonardo Lago Araújo',
      'Brasilio Rios Leite',
      'Fiscal UD',
      'José Ivan Gomes',
      'Jaqueline Cesario da Silva',
      'Eric Magalhães Delgado',
      'Ronaldo da Silva Alves Batista'],
     'NO_SEI_DO_AVISO_LAI': "{'numero': '0206683', 'link_acesso': 'https://seihm.anatel.gov.br/sei/controlador.php?acao=procedimento_trabalhar&id_procedimento=1982134&id_documento=1982751'}",
     'NO_SEI_PROCESSO_FISCALIZACAO': "{'numero': '53554.000005/2024-18', 'link_acesso': 'https://seihm.anatel.gov.br/sei/controlador.php?acao=procedimento_trabalhar&id_procedimento=1982134'}",
     'NO_SEI_RELATORIO_DE_ATIVIDADES': "{'numero': '0207151', 'link_acesso': 'https://seihm.anatel.gov.br/sei/controlador.php?acao=procedimento_trabalhar&id_procedimento=1982134&id_documento=1983328'}",
     'PRIORITY': 'Normal',
     'PROJECT': 'GR08',
     'SPENT_HOURS': '0.0',
     'SUBJECT': 'INSP_GR08_2024_0140',
     'SUBTEMA': 'Radiomonitoração Terrestre',
     'TEMA': 'Uso do Espectro',
     'TIME_ENTRIES': 'None',
     'TOTAL_ESTIMATED_HOURS': 'None',
     'TOTAL_SPENT_HOURS': '0.0',
     'TRACKER': 'Atividade de Inspeção',
     'UPDATED_ON': '2024-07-02T07:19:51Z',
     'WATCHERS': 'None',
     'agrupamento': '',
     'area_do_pacp': '',
     'cnpjcpf_da_entidade': '27865757000102',
     'coordenacao_responsavel': 'FI3',
     'dadospacp': 'None',
     'description': '[PMEC 2024 Etapa 2] Monitorar canais e faixas de frequências relacionados às aplicações críticas (como, por exemplo, radionavegação e radiocomunicação aeronáutica e canais de emergência) na forma a ser estabelecida no Plano de Ação de Fiscalização.\r\n',
     'documento_instaurador_do_pado': '',
     'due_date': '2024-11-30',
     'endereco_da_inspecao': 'Rua Machado de Assis, 27 - Morro Grande, Rio de Janeiro - RJ',
     'entidade_com_cadastro_stel': 'Não',
     'fiscais': [''],
     'fiscal_responsavel': '',
     'horas_de_conclusao': '2',
     'horas_de_deslocamento': '5',
     'horas_de_execucao': '13',
     'horas_de_preparacao': '5',
     'houve_obice': '1',
     'identificada_a_origem': '1',
     'irregularidade': [],
     'latitude_coordenadas': '',
     'longitude_coordenadas': '',
     'motivo_de_lai': 'Clandestinidade',
     'no_do_lacre': '50',
     'no_pcdp': '',
     'no_sav': '',
     'no_sei_do_plaiguarda': '',
     'nome_da_entidade': 'Globo S/A',
     'observacao_tecnica_amostral': 'Simulação com o HTZ',
     'precisa_reservar_instrumentos': '0',
     'procedimentos': ['Lacração', 'Apreensão'],
     'qnt_produt_lacradosapreend': '0',
     'sanada_ou_mitigada': '0',
     'servicos_da_inspecao': '302 - RESTRITO - RADIOAMADOR',
     'situacao_constatada': 'Irregular',
     'start_date': '2024-03-01',
     'status': 'Relatando',
     'tipo_de_inspecao': 'Certificação',
     'total_de_horas': '25.0',
     'ufmunicipio': ['RS/Tramandaí',
      'SE/Ribeirópolis',
      'MG/Santos Dumont',
      'MA/Santa Helena',
      'GO/Doverlândia'],
     'utilizou_algum_instrumento': '0',
     'utilizou_tecnicas_amostrais': 'Não usou técnicas amostrais'}

> Caso o intuito seja somente editar o campo `Relatório de Atividades`,
> basta fornecer o valor para a chave `relatorio_de_atividades` e não
> esquecer de fornecer o valor `0` para a chave `gerar_relatório` ou
> simplesmente excluí-la.

``` python
dados['relatorio_de_atividades'] = '0206885'
dados['gerar_relatorio'] = '0'
issue.update(dados)
```

    Atualizado para o status Relatando
